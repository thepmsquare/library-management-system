(this["webpackJsonplibrary-management-system"]=this["webpackJsonplibrary-management-system"]||[]).push([[0],{111:function(e,n,a){},117:function(e,n,a){},118:function(e,n,a){},120:function(e,n,a){},121:function(e,n,a){},122:function(e,n,a){},124:function(e,n,a){"use strict";a.r(n);var t=a(0),s=a.n(t),r=a(14),i=a.n(r),c=a(21),o=a(23),l=a(22),d=a(17),u=a(74);a(108),a(126),a(125);u.a.initializeApp({apiKey:"AIzaSyBBYCDggpHEho-sMOj_HxvgSC2wetbSUB8",authDomain:"library-management-syste-57f9f.firebaseapp.com",projectId:"library-management-syste-57f9f",storageBucket:"library-management-syste-57f9f.appspot.com",messagingSenderId:"659487115186",appId:"1:659487115186:web:4eed8326ab5cd4c63f86ab",measurementId:"G-LT3BJB781F"}),u.a.analytics();var h=u.a,b=a(45),p=a(127),m=a(185),j=a(167),g=a(184),f=a(170),O=a(188),x=a(128),C=a(35),w=a.n(C),S=(a(111),a(3)),y=h.firestore(),v=function(e){Object(o.a)(a,e);var n=Object(l.a)(a);function a(e){var t;return Object(c.a)(this,a),(t=n.call(this,e)).handleTabValueChange=function(e,n){t.setState((function(){return{tabValue:n}}))},t.handleInputChange=function(e){var n=e.target.getAttribute("name"),a=e.target.value;t.setState((function(){return Object(b.a)({},n,a)}))},t.handleSnackbarClose=function(){t.setState((function(){return{isSnackbarOpen:!1,snackbarMessage:""}}))},t.handleLoginSubmit=function(e){e.preventDefault(),h.auth().signInWithEmailAndPassword(t.state.loginEmail,t.state.loginPassword).catch((function(e){t.setState((function(){return{isSnackbarOpen:!0,snackbarMessage:e.message}}))}))},t.handleRegisterSubmit=function(e){e.preventDefault(),t.state.registerPassword===t.state.registerPasswordConfirm?""!==t.state.registerAdminKey?y.collection("AdminKeys").where("Keys","!=",[]).get().then((function(e){var n=[];e.forEach((function(e){return n.push(e.data())})),0!==n.length&&-1!==n[0].Keys.indexOf(t.state.registerAdminKey)?t.registerUser(!0):t.setState((function(){return{isSnackbarOpen:!0,snackbarMessage:"Invalid Admin Key"}}))})).catch((function(e){t.setState((function(){return{isSnackbarOpen:!0,snackbarMessage:e.message}}))})):t.registerUser(!1):t.setState((function(){return{isSnackbarOpen:!0,snackbarMessage:"Passwords do not match."}}))},t.registerUser=function(e){h.auth().createUserWithEmailAndPassword(t.state.registerEmail,t.state.registerPassword).then((function(n){n.user.updateProfile({displayName:t.state.registerUsername}).then((function(){y.collection("Users").doc(n.user.uid).set({isAdmin:e}).then((function(){n.user.sendEmailVerification().catch((function(e){t.setState((function(){return{isSnackbarOpen:!0,snackbarMessage:e.message}}))}))})).catch((function(e){t.setState((function(){return{isSnackbarOpen:!0,snackbarMessage:e.message}}))}))})).catch((function(e){t.setState((function(){return{isSnackbarOpen:!0,snackbarMessage:e.message}}))}))})).catch((function(e){t.setState((function(){return{isSnackbarOpen:!0,snackbarMessage:e.message}}))}))},t.handleForgotPassword=function(){t.state.loginEmail?h.auth().sendPasswordResetEmail(t.state.loginEmail).then((function(){t.setState((function(){return{isSnackbarOpen:!0,snackbarMessage:"Password Reset Link sent at ".concat(t.state.loginEmail)}}))})).catch((function(e){t.setState((function(){return{isSnackbarOpen:!0,snackbarMessage:e.message}}))})):t.setState((function(){return{isSnackbarOpen:!0,snackbarMessage:"Please enter your Email address."}}))},t.render=function(){return Object(S.jsxs)("div",{className:"LoginRegister",children:[Object(S.jsxs)(p.a,{elevation:3,className:"LoginRegister-FormContainer",children:[Object(S.jsxs)(m.a,{value:t.state.tabValue,onChange:t.handleTabValueChange,children:[Object(S.jsx)(j.a,{label:"Login"}),Object(S.jsx)(j.a,{label:"Register"})]}),0===t.state.tabValue?Object(S.jsxs)("form",{onSubmit:t.handleLoginSubmit,className:"LoginRegister-Form",children:[Object(S.jsx)(g.a,{label:"Email",type:"email",required:!0,name:"loginEmail",value:t.state.loginEmail,onChange:t.handleInputChange}),Object(S.jsx)(g.a,{label:"Password",type:"password",required:!0,name:"loginPassword",value:t.state.loginPassword,onChange:t.handleInputChange}),Object(S.jsx)(f.a,{type:"submit",children:"Log In"}),Object(S.jsx)(f.a,{size:"small",onClick:t.handleForgotPassword,children:"Forgot password?"})]}):Object(S.jsxs)("form",{onSubmit:t.handleRegisterSubmit,className:"LoginRegister-Form",children:[Object(S.jsx)(g.a,{label:"Username",required:!0,name:"registerUsername",value:t.state.registerUsername,onChange:t.handleInputChange}),Object(S.jsx)(g.a,{label:"Email",type:"email",required:!0,name:"registerEmail",value:t.state.registerEmail,onChange:t.handleInputChange}),Object(S.jsx)(g.a,{label:"Password",type:"password",required:!0,name:"registerPassword",value:t.state.registerPassword,onChange:t.handleInputChange}),Object(S.jsx)(g.a,{label:"Confirm Password",type:"password",required:!0,name:"registerPasswordConfirm",value:t.state.registerPasswordConfirm,onChange:t.handleInputChange}),Object(S.jsx)(g.a,{type:"password",label:"Admin Key",name:"registerAdminKey",value:t.state.registerAdminKey,onChange:t.handleInputChange}),Object(S.jsx)(f.a,{type:"submit",children:"Register"})]})]}),Object(S.jsx)(O.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:t.state.isSnackbarOpen,autoHideDuration:6e3,onClose:t.handleSnackbarClose,message:t.state.snackbarMessage,action:Object(S.jsx)(s.a.Fragment,{children:Object(S.jsx)(x.a,{size:"small","aria-label":"close",color:"inherit",onClick:t.handleSnackbarClose,children:Object(S.jsx)(w.a,{fontSize:"small"})})})})]})},t.state={tabValue:0,loginEmail:"",loginPassword:"",registerUsername:"",registerEmail:"",registerPassword:"",registerPasswordConfirm:"",registerAdminKey:"",isSnackbarOpen:!1,snackbarMessage:""},t}return a}(t.Component),k=a(171),E=a(172),A=a(75),P=a(97),I=a(173),N=a(90),D=a.n(N),U=a(91),F=a.n(U),M=a(89),K=a.n(M),L=(a(117),function(e){Object(o.a)(a,e);var n=Object(l.a)(a);function a(e){var t;return Object(c.a)(this,a),(t=n.call(this,e)).handleAccountMenuOpen=function(){t.setState((function(){return{isAccountMenuOpen:!0}}))},t.handleAccountMenuClose=function(){t.setState((function(){return{isAccountMenuOpen:!1}}))},t.handleChangeFocus=function(){t.props.handleChangeFocus("Profile"),t.handleAccountMenuClose()},t.render=function(){return Object(S.jsxs)(k.a,{position:"sticky",className:"Header",children:[Object(S.jsxs)(E.a,{className:"Header-Toolbar",children:[Object(S.jsxs)("div",{className:"Header-ToolbarLeft",children:[Object(S.jsx)(x.a,{color:"inherit",onClick:t.props.handleDrawerOpen,children:Object(S.jsx)(K.a,{})}),Object(S.jsx)(A.a,{variant:"h6",noWrap:!0,children:"Library Management System"})]}),Object(S.jsx)(x.a,{color:"inherit",onClick:t.handleAccountMenuOpen,className:"Header-AccountButton",children:Object(S.jsx)(D.a,{})})]}),Object(S.jsxs)(P.a,{anchorEl:document.querySelector(".Header-AccountButton"),keepMounted:!0,open:t.state.isAccountMenuOpen,onClose:t.handleAccountMenuClose,children:[Object(S.jsxs)(I.a,{children:[t.props.isUserAdmin?Object(S.jsx)(F.a,{className:"Header-AdminIcon"}):"",t.props.user.displayName]}),Object(S.jsx)(I.a,{onClick:t.handleChangeFocus,children:"Profile"}),Object(S.jsx)(I.a,{onClick:t.props.handleLogout,children:"Logout"})]})]})},t.state={isAccountMenuOpen:!1},t}return a}(t.Component)),T=a(189),B=a(174),R=a(175),q=a(59),V=a.n(q),W=a(92),H=a.n(W),z=(a(118),h.firestore()),J=function(e){Object(o.a)(a,e);var n=Object(l.a)(a);function a(e){var t;return Object(c.a)(this,a),(t=n.call(this,e)).componentDidMount=function(){t.unSubAdminKeys=z.collection("AdminKeys").where("Keys","!=",[]).onSnapshot((function(e){var n=[];e.forEach((function(e){return n.push(e.data())})),n[0]&&t.setState((function(){return{adminKey:n[0].Keys}}))}))},t.componentWillUnmount=function(){t.unSubAdminKeys()},t.handleChangeFocus=function(){t.props.handleChangeFocus("Library")},t.handleInputChange=function(e){var n=e.target.getAttribute("name"),a=e.target.value;t.setState((function(){return Object(b.a)({},n,a)}))},t.handleChangeDisplayNameExpandedToggle=function(e,n){t.setState((function(){return{isChangeDisplayNameExpanded:n}}))},t.handleChangeDisplayNameSubmit=function(e){e.preventDefault(),t.props.user.updateProfile({displayName:t.state.newUsername}).then((function(){t.setState((function(){return{newUsername:"",isChangeDisplayNameExpanded:!1}}),(function(){t.props.handleSnackbarOpen("Username Updated.")}))})).catch((function(e){t.props.handleSnackbarOpen(e.message)}))},t.handleChangeEmailExpandedToggle=function(e,n){t.setState((function(){return{isChangeEmailExpanded:n}}))},t.handleChangeEmailSubmit=function(e){e.preventDefault();var n=h.auth.EmailAuthProvider.credential(t.props.user.email,t.state.newEmailPassword);t.props.user.reauthenticateWithCredential(n).then((function(){t.props.user.updateEmail(t.state.newEmail).then((function(){t.props.user.sendEmailVerification().then((function(){t.setState((function(){return{newEmail:"",newPassword:"",isChangeEmailExpanded:!1}}),(function(){t.props.handleSnackbarOpen("Email Updated. Verify New Email Address."),window.location.reload()}))})).catch((function(e){t.props.handleSnackbarOpen(e.message)}))})).catch((function(e){t.props.handleSnackbarOpen(e.message)}))})).catch((function(e){t.props.handleSnackbarOpen(e.message)}))},t.handleChangePasswordExpandedToggle=function(e,n){t.setState((function(){return{isChangePasswordExpanded:n}}))},t.handleChangePasswordSubmit=function(e){if(e.preventDefault(),t.state.newPassword===t.state.newPasswordConfirm){var n=h.auth.EmailAuthProvider.credential(t.props.user.email,t.state.oldPassword);t.props.user.reauthenticateWithCredential(n).then((function(){t.props.user.updatePassword(t.state.newPassword).then((function(){t.setState((function(){return{oldPassword:"",newPassword:"",newPasswordConfirm:"",isChangePasswordExpanded:!1}}),(function(){t.props.handleSnackbarOpen("Password Updated.")}))})).catch((function(e){t.props.handleSnackbarOpen(e.message)}))})).catch((function(e){t.props.handleSnackbarOpen(e.message)}))}else t.props.handleSnackbarOpen("New Passwords do not match.")},t.handleChangeAdminKeysExpandedToggle=function(e,n){t.setState((function(){return{isChangeAdminKeysExpanded:n}}))},t.handleChangeAdminKeysSubmit=function(e){e.preventDefault(),z.collection("AdminKeys").where("Keys","!=",[]).get().then((function(e){var n=[];e.forEach((function(e){return n.push(e.ref)})),n[0]?n[0].update({Keys:t.state.newAdminKey}).then((function(){t.setState((function(){return{newAdminKey:"",isChangeAdminKeysExpanded:!1}}),(function(){t.props.handleSnackbarOpen("Updated AdminKey.")}))})).catch((function(e){t.props.handleSnackbarOpen(e.message)})):t.props.handleSnackbarOpen("Error while fetching AdminKey.")})).catch((function(e){t.props.handleSnackbarOpen(e.message)}))},t.handleDeleteAccountExpandedToggle=function(e,n){t.setState((function(){return{isDeleteAccountExpanded:n}}))},t.handleDeleteAccountSubmit=function(e){e.preventDefault();var n=h.auth.EmailAuthProvider.credential(t.props.user.email,t.state.deletePassword);t.props.user.reauthenticateWithCredential(n).then((function(){z.collection("Users").doc(t.props.user.uid).delete().then((function(){t.props.user.delete().catch((function(e){t.props.handleSnackbarOpen(e.message)}))})).catch((function(e){t.props.handleSnackbarOpen(e.message)}))})).catch((function(e){t.props.handleSnackbarOpen(e.message)}))},t.render=function(){return Object(S.jsxs)("div",{className:"Profile",children:[Object(S.jsx)("div",{className:"Profile-BackButtonContainer",children:Object(S.jsx)(f.a,{onClick:t.handleChangeFocus,children:"Back to Library"})}),Object(S.jsxs)("div",{children:[Object(S.jsxs)(T.a,{expanded:t.state.isChangeDisplayNameExpanded,onChange:t.handleChangeDisplayNameExpandedToggle,children:[Object(S.jsxs)(B.a,{expandIcon:t.state.isChangeDisplayNameExpanded?Object(S.jsx)(w.a,{}):Object(S.jsx)(V.a,{}),children:[Object(S.jsx)(A.a,{children:"Username"}),Object(S.jsx)(A.a,{children:t.props.user.displayName})]}),Object(S.jsx)(R.a,{children:Object(S.jsxs)("form",{className:"Profile-AccordionForm",onSubmit:t.handleChangeDisplayNameSubmit,children:[Object(S.jsx)(g.a,{label:"New Username",name:"newUsername",value:t.state.newUsername,onChange:t.handleInputChange,required:!0}),Object(S.jsx)(f.a,{type:"submit",children:"Submit"})]})})]}),Object(S.jsxs)(T.a,{expanded:t.state.isChangeEmailExpanded,onChange:t.handleChangeEmailExpandedToggle,children:[Object(S.jsxs)(B.a,{expandIcon:t.state.isChangeEmailExpanded?Object(S.jsx)(w.a,{}):Object(S.jsx)(V.a,{}),children:[Object(S.jsx)(A.a,{children:"Email"}),Object(S.jsx)(A.a,{children:t.props.user.email})]}),Object(S.jsx)(R.a,{children:Object(S.jsxs)("form",{className:"Profile-AccordionForm",onSubmit:t.handleChangeEmailSubmit,children:[Object(S.jsx)(g.a,{label:"New Email",name:"newEmail",value:t.state.newEmail,onChange:t.handleInputChange,required:!0}),Object(S.jsx)(g.a,{label:"Password",name:"newEmailPassword",value:t.state.newEmailPassword,onChange:t.handleInputChange,type:"password",required:!0}),Object(S.jsx)(f.a,{type:"submit",children:"Submit"})]})})]}),Object(S.jsxs)(T.a,{expanded:t.state.isChangePasswordExpanded,onChange:t.handleChangePasswordExpandedToggle,children:[Object(S.jsx)(B.a,{expandIcon:t.state.isChangePasswordExpanded?Object(S.jsx)(w.a,{}):Object(S.jsx)(V.a,{}),children:Object(S.jsx)(A.a,{children:"Password"})}),Object(S.jsx)(R.a,{children:Object(S.jsxs)("form",{className:"Profile-AccordionForm",onSubmit:t.handleChangePasswordSubmit,children:[Object(S.jsx)(g.a,{label:"Current Password",name:"oldPassword",value:t.state.oldPassword,onChange:t.handleInputChange,type:"password",required:!0}),Object(S.jsx)(g.a,{label:"New Password",name:"newPassword",value:t.state.newPassword,onChange:t.handleInputChange,type:"password",required:!0}),Object(S.jsx)(g.a,{label:"Confirm New Password",name:"newPasswordConfirm",value:t.state.newPasswordConfirm,onChange:t.handleInputChange,type:"password",required:!0}),Object(S.jsx)(f.a,{type:"submit",children:"Submit"})]})})]}),t.props.isUserAdmin?Object(S.jsxs)(T.a,{expanded:t.state.isChangeAdminKeysExpanded,onChange:t.handleChangeAdminKeysExpandedToggle,children:[Object(S.jsxs)(B.a,{expandIcon:t.state.isChangeAdminKeysExpanded?Object(S.jsx)(w.a,{}):Object(S.jsx)(V.a,{}),children:[Object(S.jsx)(A.a,{children:"Admin Key"}),Object(S.jsx)(A.a,{children:t.state.adminKey})]}),Object(S.jsx)(R.a,{children:Object(S.jsxs)("form",{className:"Profile-AccordionForm",onSubmit:t.handleChangeAdminKeysSubmit,children:[Object(S.jsx)(g.a,{label:"New Admin Key",name:"newAdminKey",value:t.state.newAdminKey,onChange:t.handleInputChange,type:"password",required:!0}),Object(S.jsx)(f.a,{type:"submit",children:"Submit"})]})})]}):null,Object(S.jsxs)(T.a,{expanded:t.state.isDeleteAccountExpanded,onChange:t.handleDeleteAccountExpandedToggle,children:[Object(S.jsx)(B.a,{expandIcon:Object(S.jsx)(H.a,{}),children:Object(S.jsx)(A.a,{children:"Delete Account"})}),Object(S.jsx)(R.a,{children:Object(S.jsxs)("form",{className:"Profile-AccordionForm",onSubmit:t.handleDeleteAccountSubmit,children:[Object(S.jsx)(g.a,{label:"Password",name:"deletePassword",value:t.state.deletePassword,onChange:t.handleInputChange,type:"password",required:!0}),Object(S.jsx)(f.a,{type:"submit",color:"secondary",children:"Delete Account"})]})})]})]})]})},t.state={isChangeDisplayNameExpanded:!1,newUsername:"",isChangeEmailExpanded:!1,newEmail:"",newEmailPassword:"",isChangePasswordExpanded:!1,oldPassword:"",newPassword:"",newPasswordConfirm:"",isChangeAdminKeysExpanded:!1,newAdminKey:"",isDeleteAccountExpanded:!1,deletePassword:"",adminKey:""},t}return a}(t.Component),Y=function(e){Object(o.a)(a,e);var n=Object(l.a)(a);function a(){var e;Object(c.a)(this,a);for(var t=arguments.length,s=new Array(t),r=0;r<t;r++)s[r]=arguments[r];return(e=n.call.apply(n,[this].concat(s))).render=function(){return Object(S.jsx)("div",{className:"Library",children:Object(S.jsx)("h1",{children:"Library"})})},e}return a}(t.Component),_=a(187),G=a(169),$=a(129),Q=a(176),X=a(177),Z=a(93),ee=a.n(Z),ne=a(94),ae=a.n(ne),te=function(e){Object(o.a)(a,e);var n=Object(l.a)(a);function a(){var e;Object(c.a)(this,a);for(var t=arguments.length,s=new Array(t),r=0;r<t;r++)s[r]=arguments[r];return(e=n.call.apply(n,[this].concat(s))).handleInventoryClick=function(){e.props.handleChangeFocus("Inventory"),e.props.handleDrawerClose()},e.handleLibraryClick=function(){e.props.handleChangeFocus("Library"),e.props.handleDrawerClose()},e.render=function(){return Object(S.jsx)(_.a,{anchor:"left",open:e.props.isDrawerOpen,onClose:e.props.handleDrawerClose,className:"Drawer",children:Object(S.jsxs)(G.a,{children:[e.props.isUserAdmin&&Object(S.jsxs)($.a,{button:!0,onClick:e.handleInventoryClick,children:[Object(S.jsx)(Q.a,{children:Object(S.jsx)(ee.a,{})}),Object(S.jsx)(X.a,{primary:"Inventory"})]},"Inventory"),Object(S.jsxs)($.a,{button:!0,onClick:e.handleLibraryClick,children:[Object(S.jsx)(Q.a,{children:Object(S.jsx)(ae.a,{})}),Object(S.jsx)(X.a,{primary:"Library"})]},"Library")]})})},e}return a}(t.Component),se=a(80),re=a.n(se),ie=a(95),ce=a(178),oe=a(179),le=a(180),de=a(181),ue=a(182),he=a(183),be=a(96),pe=a.n(be),me=a.p+"static/media/defaultBook.3309b0ae.png",je=(a(120),function(e){Object(o.a)(a,e);var n=Object(l.a)(a);function a(e){var t;return Object(c.a)(this,a),(t=n.call(this,e)).handleInputChange=function(e){var n=e.target.getAttribute("name"),a=e.target.value;t.setState((function(){return Object(b.a)({},n,a)}))},t.toggleAddItem=function(){t.setState((function(e){return{addItem:!e.addItem}}))},t.handleAddItemSubmit=function(){var e=Object(ie.a)(re.a.mark((function e(n){var a,s,r;return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),t.state.searchTitle||t.state.searchAuthor||t.state.searchPublisher||t.state.searchISBN){e.next=5;break}t.props.handleSnackbarOpen("Please Enter at least 1 field."),e.next=18;break;case 5:return a="https://www.googleapis.com/books/v1/volumes?q=",t.state.searchTitle&&(a+="intitle:".concat(t.state.searchTitle)),t.state.searchAuthor&&(t.state.searchTitle?a+="+inauthor:".concat(t.state.searchAuthor):a+="inauthor:".concat(t.state.searchAuthor)),t.state.searchPublisher&&(t.state.searchTitle||t.state.searchAuthor?a+="+inpublisher:".concat(t.state.searchPublisher):a+="inpublisher:".concat(t.state.searchPublisher)),t.state.searchISBN&&(t.state.searchTitle||t.state.searchAuthor||t.state.searchPublisher?a+="+isbn:".concat(t.state.searchISBN):a+="isbn:".concat(t.state.searchISBN)),a+="&key=".concat("AIzaSyBBYCDggpHEho-sMOj_HxvgSC2wetbSUB8"),e.next=13,fetch(a);case 13:return s=e.sent,e.next=16,s.json();case 16:r=e.sent,t.setState((function(){return{searchResult:r.items}}));case 18:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),t.render=function(){return Object(S.jsxs)("div",{className:"Inventory",children:[Object(S.jsx)(A.a,{variant:"h3",children:"Inventory"}),Object(S.jsxs)(p.a,{className:"Inventory-AddItem",children:[Object(S.jsx)(f.a,{onClick:t.toggleAddItem,children:"Add Book"}),t.state.addItem&&Object(S.jsxs)("div",{children:[Object(S.jsxs)("form",{onSubmit:t.handleAddItemSubmit,className:"Inventory-AddItemForm",children:[Object(S.jsx)(A.a,{variant:"h4",children:"Search for a book"}),Object(S.jsx)(g.a,{label:"Title",name:"searchTitle",value:t.state.searchTitle,onChange:t.handleInputChange}),Object(S.jsx)(g.a,{label:"Author",name:"searchAuthor",value:t.state.searchAuthor,onChange:t.handleInputChange}),Object(S.jsx)(g.a,{label:"Publisher",name:"searchPublisher",value:t.state.searchPublisher,onChange:t.handleInputChange}),Object(S.jsx)(g.a,{label:"ISBN",InputProps:{inputProps:{pattern:"[0-9]{10}|[0-9]{13}"}},name:"searchISBN",value:t.state.searchISBN,onChange:t.handleInputChange}),Object(S.jsx)(f.a,{type:"submit",children:"Search"})]}),t.state.searchResult.length>0&&Object(S.jsxs)(ce.a,{component:p.a,children:[Object(S.jsxs)(oe.a,{children:[Object(S.jsx)(le.a,{children:Object(S.jsxs)(de.a,{children:[Object(S.jsx)(ue.a,{}),Object(S.jsx)(ue.a,{children:"Title"}),Object(S.jsx)(ue.a,{children:"Authors"}),Object(S.jsx)(ue.a,{children:"Publisher"}),Object(S.jsx)(ue.a,{children:"Category"}),Object(S.jsx)(ue.a,{children:"Published Date"}),Object(S.jsx)(ue.a,{children:"Number of Pages"}),Object(S.jsx)(ue.a,{})]})}),Object(S.jsx)(he.a,{children:t.state.searchResult.map((function(e){return Object(S.jsxs)(de.a,{children:[Object(S.jsx)(ue.a,{children:Object(S.jsx)("img",{src:e.volumeInfo.imageLinks?e.volumeInfo.imageLinks.thumbnail:me,alt:e.title})}),Object(S.jsx)(ue.a,{children:e.volumeInfo.title?e.volumeInfo.title:""}),Object(S.jsx)(ue.a,{children:e.volumeInfo.authors?e.volumeInfo.authors.join(", "):""}),Object(S.jsx)(ue.a,{children:e.volumeInfo.publisher?e.volumeInfo.publisher:""}),Object(S.jsx)(ue.a,{children:e.volumeInfo.categories?e.volumeInfo.categories.join(", "):""}),Object(S.jsx)(ue.a,{children:e.volumeInfo.publishedDate?e.volumeInfo.publishedDate:""}),Object(S.jsx)(ue.a,{children:e.volumeInfo.pageCount?e.volumeInfo.pageCount:""}),Object(S.jsx)(ue.a,{children:Object(S.jsx)(x.a,{children:Object(S.jsx)(pe.a,{})})})]},e.id)}))})]}),Object(S.jsx)(A.a,{children:"Please search for specific terms if unable to find required book."})]})]})]})]})},t.state={addItem:!1,searchTitle:"",searchAuthor:"",searchPublisher:"",searchISBN:"",searchResult:[]},t}return a}(t.Component)),ge=(a(121),function(e){Object(o.a)(a,e);var n=Object(l.a)(a);function a(e){var t;return Object(c.a)(this,a),(t=n.call(this,e)).handleLogout=function(){h.auth().signOut()},t.handleSnackbarOpen=function(e){t.setState((function(){return{isSnackbarOpen:!0,snackbarMessage:e}}))},t.handleSnackbarClose=function(){t.setState((function(){return{isSnackbarOpen:!1,snackbarMessage:""}}))},t.handleChangeFocus=function(e){t.setState((function(){return{componentInFocus:e}}))},t.handleDrawerClose=function(){t.setState((function(){return{isDrawerOpen:!1}}))},t.handleDrawerOpen=function(){t.setState((function(){return{isDrawerOpen:!0}}))},t.render=function(){return Object(S.jsxs)("div",{className:"Homepage",children:[Object(S.jsx)(L,{user:t.props.user,isUserAdmin:t.props.isUserAdmin,handleSnackbarOpen:t.handleSnackbarOpen,handleLogout:t.handleLogout,handleChangeFocus:t.handleChangeFocus,handleDrawerOpen:t.handleDrawerOpen}),"Library"===t.state.componentInFocus&&Object(S.jsx)(Y,{}),"Profile"===t.state.componentInFocus&&Object(S.jsx)(J,{handleChangeFocus:t.handleChangeFocus,user:t.props.user,isUserAdmin:t.props.isUserAdmin,handleSnackbarOpen:t.handleSnackbarOpen}),"Inventory"===t.state.componentInFocus&&Object(S.jsx)(je,{handleSnackbarOpen:t.handleSnackbarOpen}),Object(S.jsx)(te,{isDrawerOpen:t.state.isDrawerOpen,handleDrawerClose:t.handleDrawerClose,isUserAdmin:t.props.isUserAdmin,handleChangeFocus:t.handleChangeFocus}),Object(S.jsx)(O.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:t.state.isSnackbarOpen,autoHideDuration:6e3,onClose:t.handleSnackbarClose,message:t.state.snackbarMessage,action:Object(S.jsx)(s.a.Fragment,{children:Object(S.jsx)(x.a,{size:"small","aria-label":"close",color:"inherit",onClick:t.handleSnackbarClose,children:Object(S.jsx)(w.a,{fontSize:"small"})})})})]})},t.state={isSnackbarOpen:!1,snackbarMessage:"",componentInFocus:"Library",isDrawerOpen:!1},t}return a}(t.Component)),fe=(a(122),function(e){Object(o.a)(a,e);var n=Object(l.a)(a);function a(e){var t;return Object(c.a)(this,a),(t=n.call(this,e)).handleSnackbarClose=function(){t.setState((function(){return{isSnackbarOpen:!1,snackbarMessage:""}}))},t.handleLogout=function(){h.auth().signOut()},t.handleReload=function(){window.location.reload()},t.handleResend=function(){t.props.user.sendEmailVerification().then((function(){t.setState((function(){return{isSnackbarOpen:!0,snackbarMessage:"Email Resent to ".concat(t.props.user.email,".")}}))})).catch((function(e){t.setState((function(){return{isSnackbarOpen:!0,snackbarMessage:e.message}}))}))},t.handleEmailChangeToggle=function(){t.setState((function(e){return{isUserChangingEmail:!e.isUserChangingEmail}}))},t.handleInputChange=function(e){var n=e.target.getAttribute("name"),a=e.target.value;t.setState((function(){return Object(b.a)({},n,a)}))},t.handleEmailChangeSubmit=function(e){e.preventDefault();var n=h.auth.EmailAuthProvider.credential(t.props.user.email,t.state.passwordInput);t.props.user.reauthenticateWithCredential(n).then((function(){t.props.user.updateEmail(t.state.newEmailInput).then((function(){t.setState((function(){return{isSnackbarOpen:!0,snackbarMessage:"Email changed to ".concat(t.state.newEmailInput),isUserChangingEmail:!1,newEmailInput:"",passwordInput:""}}),(function(){t.props.user.reload()}))})).catch((function(e){t.setState((function(){return{isSnackbarOpen:!0,snackbarMessage:e.message}}))}))})).catch((function(e){t.setState((function(){return{isSnackbarOpen:!0,snackbarMessage:e.message}}))}))},t.render=function(){return Object(S.jsxs)("div",{className:"VerifyEmail",children:[Object(S.jsxs)(A.a,{children:[t.props.user.displayName,", please Verify Email at"," ",t.props.user.email,"."]}),Object(S.jsx)(f.a,{onClick:t.handleResend,children:"Resend Email"}),Object(S.jsx)(f.a,{onClick:t.handleReload,children:"Already Verified?"}),Object(S.jsx)(f.a,{onClick:t.handleEmailChangeToggle,children:"Change Email Address"}),t.state.isUserChangingEmail?Object(S.jsx)(p.a,{className:"VerifyEmail-FormContainer",children:Object(S.jsxs)("form",{onSubmit:t.handleEmailChangeSubmit,className:"VerifyEmail-Form",children:[Object(S.jsx)(g.a,{label:"New Email Address",type:"email",required:!0,name:"newEmailInput",value:t.state.newEmailInput,onChange:t.handleInputChange}),Object(S.jsx)(g.a,{label:"Password",type:"password",required:!0,name:"passwordInput",value:t.state.passwordInput,onChange:t.handleInputChange}),Object(S.jsx)(f.a,{type:"submit",children:"Submit"})]})}):null,Object(S.jsx)(f.a,{color:"secondary",onClick:t.handleLogout,children:"Logout"}),Object(S.jsx)(O.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:t.state.isSnackbarOpen,autoHideDuration:6e3,onClose:t.handleSnackbarClose,message:t.state.snackbarMessage,action:Object(S.jsx)(s.a.Fragment,{children:Object(S.jsx)(x.a,{size:"small","aria-label":"close",color:"inherit",onClick:t.handleSnackbarClose,children:Object(S.jsx)(w.a,{fontSize:"small"})})})})]})},t.state={isSnackbarOpen:!1,snackbarMessage:"",isUserChangingEmail:!1,newEmailInput:"",passwordInput:""},t}return a}(t.Component)),Oe=h.firestore(),xe=function(e){Object(o.a)(a,e);var n=Object(l.a)(a);function a(e){var t;return Object(c.a)(this,a),(t=n.call(this,e)).componentDidMount=function(){t.checkLogin()},t.checkLogin=function(){h.auth().onAuthStateChanged((function(e){e?Oe.collection("Users").doc(e.uid).get().then((function(n){var a=!!n.data()&&n.data().isAdmin;t.setState((function(){return{user:e,isUserAdmin:a}}))})).catch((function(e){alert(e.message),h.auth().signOut()})):t.setState((function(){return{user:!1}}))}))},t.render=function(){return Object(S.jsx)("div",{className:"App",children:Object(S.jsxs)(d.d,{children:[Object(S.jsx)(d.b,{exact:!0,path:"/library-management-system/login",children:t.state.user?Object(S.jsx)(d.a,{to:{pathname:"/library-management-system"}}):Object(S.jsx)(v,{})}),Object(S.jsx)(d.b,{exact:!0,path:"/library-management-system",children:t.state.user?t.state.user.emailVerified?Object(S.jsx)(ge,{user:t.state.user,isUserAdmin:t.state.isUserAdmin}):Object(S.jsx)(fe,{user:t.state.user}):Object(S.jsx)(d.a,{to:{pathname:"/library-management-system/login"}})})]})})},t.state={user:!1,isUserAdmin:!1},t}return a}(t.Component),Ce=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function we(e,n){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),n&&n.onUpdate&&n.onUpdate(e)):(console.log("Content is cached for offline use."),n&&n.onSuccess&&n.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var Se=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,190)).then((function(n){var a=n.getCLS,t=n.getFID,s=n.getFCP,r=n.getLCP,i=n.getTTFB;a(e),t(e),s(e),r(e),i(e)}))},ye=a(79);i.a.render(Object(S.jsx)(s.a.StrictMode,{children:Object(S.jsx)(ye.a,{children:Object(S.jsx)(xe,{})})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/library-management-system",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var n="".concat("/library-management-system","/service-worker.js");Ce?(!function(e,n){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var t=a.headers.get("content-type");404===a.status||null!=t&&-1===t.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):we(e,n)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(n,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):we(n,e)}))}}(),Se()}},[[124,1,2]]]);
//# sourceMappingURL=main.0f7ed39a.chunk.js.map